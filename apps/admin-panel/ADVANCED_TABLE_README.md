# Advanced Data Table Component - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –û–±–∑–æ—Ä

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –±–æ–ª–µ–µ 100,000 —Å—Ç—Ä–æ–∫, real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –¥—Ä—É–≥–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

1. **Server-side –æ–ø–µ—Ä–∞—Ü–∏–∏**
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
   - –ü–æ–∏—Å–∫ —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞–º–∏**
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (resizing)
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ (reordering)
   - –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤ (sticky header/columns)
   - –°–∫—Ä—ã—Ç–∏–µ/–ø–æ–∫–∞–∑ —Å—Ç–æ–ª–±—Ü–æ–≤

3. **–í—ã–±–æ—Ä —Å—Ç—Ä–æ–∫**
   - –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä (checkbox)
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
   - –í—ã–±–æ—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (Shift+Click)
   - –í—ã–±–æ—Ä –≤—Å–µ—Ö (–Ω–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ/–≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö)

4. **–†–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏**
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–ª–∏–∫—É
   - –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

5. **Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
   - –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

6. **–£—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø–æ —Å—Ä–æ–∫—É –≥–æ–¥–Ω–æ—Å—Ç–∏
   - –°—Ç–∞—Ç—É—Å–Ω—ã–µ —á–∏–ø—ã
   - –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã

7. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**
   - CSV —ç–∫—Å–ø–æ—Ä—Ç
   - Excel —ç–∫—Å–ø–æ—Ä—Ç
   - JSON —ç–∫—Å–ø–æ—Ä—Ç
   - –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö/–≤—Å–µ—Ö —Å—Ç—Ä–æ–∫

### ‚ö° Real-time —Ñ—É–Ω–∫—Ü–∏–∏

- WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è live –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–∞—Ä–∫–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (100k+ —Å—Ç—Ä–æ–∫)

1. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥** (@tanstack/react-virtual)
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö —Å—Ç—Ä–æ–∫
   - –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫

2. **Debounced –ø–æ–∏—Å–∫**
   - –ó–∞–¥–µ—Ä–∂–∫–∞ 300ms –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
   - –û—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

3. **Lazy loading**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
   - Incremental fetching

4. **Request cancellation**
   - AbortController –¥–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ race conditions

5. **Response caching**
   - 5-–º–∏–Ω—É—Ç–Ω—ã–π –∫–µ—à
   - –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

### ‚å®Ô∏è –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- `Ctrl/Cmd + A` - –í—ã–±—Ä–∞—Ç—å –≤—Å–µ
- `Ctrl/Cmd + E` - –≠–∫—Å–ø–æ—Ä—Ç CSV
- `Ctrl/Cmd + R` - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
- `Escape` - –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ/–û—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `Shift + Click` - –í—ã–±–æ—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å—Ç—Ä–æ–∫

### ‚ôø Accessibility (A11Y)

- ARIA labels –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- Keyboard navigation (Tab, Arrow keys)
- Screen reader support
- Role attributes (grid, row, columnheader)
- Focus management

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install @mui/material @emotion/react @emotion/styled
npm install @mui/x-date-pickers date-fns
npm install @tanstack/react-virtual
npm install lodash-es
npm install socket.io-client
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```tsx
import { AdvancedMarksTable } from './components/AdvancedTable';
import { TableColumn } from './types/table.types';
import { Mark } from './types/mark.types';

const columns: TableColumn<Mark>[] = [
  {
    id: 'markCode',
    header: '–ö–æ–¥ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏',
    accessor: 'markCode',
    width: 250,
    sortable: true,
    filterable: true,
    sticky: true,
  },
  {
    id: 'gtin',
    header: 'GTIN',
    accessor: 'gtin',
    width: 150,
    sortable: true,
  },
  {
    id: 'status',
    header: '–°—Ç–∞—Ç—É—Å',
    accessor: 'status',
    sortable: true,
    filterable: true,
    filterType: 'select',
    filterOptions: [
      { value: 'active', label: '–ê–∫—Ç–∏–≤–Ω–∞' },
      { value: 'blocked', label: '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞' },
    ],
  },
];

function MyComponent() {
  const [data, setData] = useState<Mark[]>([]);
  const [loading, setLoading] = useState(false);
  const [totalCount, setTotalCount] = useState(0);

  const handleFetchData = async (params) => {
    setLoading(true);
    try {
      const response = await api.getMarks(params);
      setData(response.data);
      setTotalCount(response.total);
    } finally {
      setLoading(false);
    }
  };

  return (
    <AdvancedMarksTable
      data={data}
      loading={loading}
      totalCount={totalCount}
      onFetchData={handleFetchData}
      columns={columns}
    />
  );
}
```

### –° –º–∞—Å—Å–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

```tsx
import { defaultMarksBulkActions } from './components/AdvancedTable';

<AdvancedMarksTable
  // ... other props
  bulkActions={[
    ...defaultMarksBulkActions,
    {
      id: 'custom-action',
      label: '–ú–æ—ë –¥–µ–π—Å—Ç–≤–∏–µ',
      icon: <CustomIcon />,
      onClick: async (selectedIds) => {
        await api.customAction(selectedIds);
      },
      requiresConfirmation: true,
    },
  ]}
/>;
```

### –° —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏

```tsx
<AdvancedMarksTable
  // ... other props
  renderExpandedRow={(row) => (
    <Box sx={{ p: 2 }}>
      <Typography variant="h6">–î–µ—Ç–∞–ª–∏</Typography>
      <div>ID: {row.id}</div>
      <div>–°–æ–∑–¥–∞–Ω: {new Date(row.createdAt).toLocaleString()}</div>
    </Box>
  )}
/>
```

### –° inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```tsx
<AdvancedMarksTable
  // ... other props
  enableInlineEdit={true}
  onRowUpdate={async (id, updates) => {
    await api.updateMark(id, updates);
  }}
/>
```

### –° real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏

```tsx
<AdvancedMarksTable
  // ... other props
  enableRealtime={true}
/>
```

## API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### Props

```typescript
interface AdvancedMarksTableProps {
  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
  data: Mark[];
  totalCount: number;
  onFetchData: (params: any) => Promise<void>;
  columns: TableColumn<Mark>[];

  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
  loading?: boolean;
  error?: string | null;
  bulkActions?: BulkAction[];
  enableRealtime?: boolean;
  enableInlineEdit?: boolean;
  onRowUpdate?: (id: string, updates: Partial<Mark>) => Promise<void>;
  renderExpandedRow?: (row: Mark) => React.ReactNode;
}
```

### TableColumn

```typescript
interface TableColumn<T> {
  id: string;
  header: string;
  accessor: keyof T | ((row: T) => any);
  width?: number;
  minWidth?: number;
  maxWidth?: number;
  sortable?: boolean;
  filterable?: boolean;
  resizable?: boolean;
  sticky?: boolean;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, row: T) => React.ReactNode;
  filterType?: 'text' | 'select' | 'date' | 'dateRange' | 'number';
  filterOptions?: Array<{ value: string; label: string }>;
}
```

### BulkAction

```typescript
interface BulkAction {
  id: string;
  label: string;
  icon?: React.ReactNode;
  onClick: (selectedIds: string[]) => void | Promise<void>;
  requiresConfirmation?: boolean;
  confirmMessage?: string;
  disabled?: (selectedIds: string[]) => boolean;
}
```

## –•—É–∫–∏

### useTableState

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –≤—ã–±–æ—Ä).

```typescript
const tableState = useTableState({
  initialPageSize: 50,
  defaultSort: { field: 'createdAt', direction: 'desc' },
  onStateChange: (state) => {
    console.log('State changed:', state);
  },
});

// –ú–µ—Ç–æ–¥—ã
tableState.setSort(field);
tableState.addFilter(filter);
tableState.removeFilter(field);
tableState.clearFilters();
tableState.setPage(page);
tableState.setPageSize(pageSize);
tableState.toggleRowSelection(rowId);
tableState.selectRange(startId, endId, allIds);
tableState.selectAll(rowIds);
tableState.clearSelection();
```

### useTableExport

–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.

```typescript
const { exportData, exportToCSV, exportToJSON, exportToExcel } = useTableExport();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
exportData(data, columns, {
  format: 'csv',
  fileName: 'marks-export',
  selectedOnly: true,
});
```

### useTablePerformance

–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

```typescript
const {
  getCached,
  setCache,
  clearCache,
  invalidateCache,
  getAbortController,
  cancelRequest,
  createDebouncedSearch,
} = useTablePerformance(5 * 60 * 1000); // 5 min cache

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞
const cached = getCached('marks-page-1');
if (cached) {
  return cached;
}

// –°–æ–∑–¥–∞–Ω–∏–µ debounced —Ñ—É–Ω–∫—Ü–∏–∏
const debouncedSearch = createDebouncedSearch(handleSearch, 300);
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### FilterPanel

–ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤.

```tsx
<FilterPanel
  filters={filters}
  onFilterChange={setFilters}
  onClearFilters={clearFilters}
  filterPresets={presets}
  onSavePreset={savePreset}
  onLoadPreset={loadPreset}
/>
```

### BulkActionsToolbar

Toolbar –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

```tsx
<BulkActionsToolbar
  selectedCount={selectedCount}
  totalCount={totalCount}
  onSelectAll={selectAll}
  onDeselectAll={deselectAll}
  isAllSelected={isAllSelected}
  bulkActions={actions}
  selectedIds={selectedIds}
/>
```

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥

–†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º–∞—è —á–∞—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã (~20-30 —Å—Ç—Ä–æ–∫ –≤–º–µ—Å—Ç–æ 100k).

```typescript
const rowVirtualizer = useVirtualizer({
  count: data.length,
  getScrollElement: () => parentRef.current,
  estimateSize: () => 60,
  overscan: 10, // —Ä–µ–Ω–¥–µ—Ä–∏–º 10 —Å—Ç—Ä–æ–∫ —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
});
```

### 2. Request Cancellation

```typescript
const abortController = getAbortController('fetch-marks');
fetch('/api/marks', { signal: abortController.signal });

// –ü—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### 3. Debouncing

```typescript
const debouncedSearch = createDebouncedSearch(handleSearch, 300);
// –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ 300ms –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–≤–æ–¥–∞
```

### 4. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è

```typescript
const filteredData = useMemo(() => {
  return data.filter(/* ... */);
}, [data, filters]);
```

## WebSocket Integration

```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket
// –°–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è:
- 'mark:updated' - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–∏
- 'mark:created' - —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä–∫–∏

// –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è:
1. –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –∫–µ—à
2. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
```

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ sx prop

```tsx
<AdvancedMarksTable
  // ... other props
  sx={{
    '& .MuiTableCell-root': {
      padding: '12px',
    },
    '& .MuiTableRow-root:hover': {
      backgroundColor: 'action.hover',
    },
  }}
/>
```

### –£—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
{
  id: 'expirationDate',
  header: '–°—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏',
  accessor: 'expirationDate',
  render: (value) => {
    if (!value) return '-';
    const daysLeft = calculateDaysLeft(value);
    const color = daysLeft < 7 ? 'error' : daysLeft < 30 ? 'warning' : 'default';
    return <Chip label={value} color={color} />;
  },
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { AdvancedMarksTable } from './AdvancedMarksTable';

test('renders table with data', () => {
  const mockData = [
    { id: '1', markCode: '010460012345678', gtin: '04600123456789', status: 'active' },
  ];

  render(
    <AdvancedMarksTable data={mockData} totalCount={1} onFetchData={jest.fn()} columns={columns} />,
  );

  expect(screen.getByText('010460012345678')).toBeInTheDocument();
});

test('handles row selection', () => {
  // ... test implementation
});
```

## Performance Benchmarks

- **100,000 —Å—Ç—Ä–æ–∫**: –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ ~60 FPS
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏**: < 2s –¥–ª—è –ø–µ—Ä–≤—ã—Ö 50 —Å—Ç—Ä–æ–∫
- **Memory usage**: ~50MB –¥–ª—è 100k —Å—Ç—Ä–æ–∫ (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è)
- **Search delay**: 300ms debounce
- **Cache hit rate**: ~80% –ø—Ä–∏ —Ç–∏–ø–∏—á–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

## Troubleshooting

### –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤–∫–ª—é—á–µ–Ω–∞ –ª–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
- –£–º–µ–Ω—å—à–∏—Ç–µ `overscan` –ø–∞—Ä–∞–º–µ—Ç—Ä
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ render —Ñ—É–Ω–∫—Ü–∏–∏ –≤ columns

### –õ–∞–≥–∏ –ø—Ä–∏ –≤–≤–æ–¥–µ –≤ —Ñ–∏–ª—å—Ç—Ä—ã

- –£–≤–µ–ª–∏—á—å—Ç–µ debounce delay
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ù–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ real-time

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `enableRealtime={true}`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–±—ã—Ç–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ê–≤—Ç–æ—Ä

Znak Lavki Team
